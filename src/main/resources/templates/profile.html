<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Профиль клиента</title>
  <link rel="icon" th:href="@{/images/logo.png}" type="image/x-icon">
  <link rel="stylesheet" th:href="@{/css/profile.css}">
  <link rel="stylesheet" th:href="@{/css/body.css}">
  <link rel="stylesheet" th:href="@{/css/navbar.css}">
</head>
<body>
<div th:insert="~{navbar :: navbar}"></div>
<div class="main-container">
  <div class="logo-text-container">
    <h1>Профиль клиента</h1>
  </div>
  <form method="post" action="/profile">
    <div class="form-row">
      <div class="form-group">
        <label for="fullName">ФИО:<span class="required">*</span></label>
        <input type="text" id="fullName" name="fullName" th:value="${client.fullName}" maxlength="255" required>
      </div>
      <div class="form-group">
        <label for="dateOfBirth">Дата рождения:<span class="required">*</span></label>
        <input type="date" id="dateOfBirth" name="dateOfBirth" th:value="${#dates.format(client.dateOfBirth, 'yyyy-MM-dd')}" required>
      </div>
    </div>
    <div class="form-row">
      <div class="form-group">
        <label for="address">Адрес проживания:<span class="required">*</span></label>
        <input type="text" id="address" name="address" th:value="${client.address}" maxlength="255" required>
      </div>
      <div class="form-group">
        <label for="passport">Паспорт:<span class="required">*</span></label>
        <input type="text" id="passport" name="passport" th:value="${client.passport}" maxlength="10" required>
      </div>
    </div>
    <div class="form-row">
      <div class="form-group">
        <label for="passportIssueDate">Дата выдачи паспорта:<span class="required">*</span></label>
        <input type="date" id="passportIssueDate" name="passportIssueDate" th:value="${#dates.format(client.passportIssueDate, 'yyyy-MM-dd')}" required>
      </div>
      <div class="form-group">
        <label for="passportDepartmentCode">Код подразделения паспорта:<span class="required">*</span></label>
        <input type="number" id="passportDepartmentCode" name="passportDepartmentCode" th:value="${client.passportDepartmentCode}" required>
      </div>
    </div>
    <div>
      <button class="modal-button" type="submit">Сохранить</button>
    </div>
  </form>
  <div th:if="${error}" th:text="${error}" class="error-message">
    Текст ошибки
  </div>
  <div class="change-password">
    <a href="/profile-forgot-password">Сменить пароль</a>
  </div>
</div>

<div id="successModal" class="modal" th:if="${successSaveClient}">
  <div id="successModalContent" class="modal-content main-container">
    <span class="close">&times;</span>
    <img th:src="@{/images/success.png}" alt="Успех" class="success-image">
    <p>Изменения успешно сохранены!</p>
    <button id="closeModal" class="modal-button">Закрыть</button>
  </div>
</div>

<script th:src="@{/js/profile.js}"></script>
</body>
</html>